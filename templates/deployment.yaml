{{deployment}}:
  DependsOn:

  {{#each rootResource.methods}}
  - {{gatewayMethodName}}
  {{/each}}
  - {{rootResource.name}}OptionsMethod

  {{#each skyResources}}
  {{#each methods}}
  - {{gatewayMethodName}}
  {{/each}}
  - {{name}}OptionsMethod
  {{/each}}
  Type: "AWS::ApiGateway::Deployment"
  Properties:
    Description:  {{description}} deployment (generated by Panda Sky)
    RestApiId:
      Ref: API
    StageName: {{env}}
    StageDescription:
      Description: {{env}} for {{description}} (generated by Panda Sky)
      StageName: {{env}}
      MethodSettings:
        - ResourcePath: "/"
          HttpMethod: GET
          MetricsEnabled: true
          DataTraceEnabled: false
          #LoggingLevel: INFO  # OFF, ERROR, INFO
          CachingEnabled: false
          # CacheTtlInSeconds: 1800
          # CacheDataEncrypted: false

